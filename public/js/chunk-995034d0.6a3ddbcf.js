(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-995034d0"],{"169a":function(t,e,n){"use strict";n("7db0"),n("caad"),n("45fc"),n("a9e3"),n("2532"),n("498a");var a=n("5530"),i=n("2909"),s=n("ade3"),o=(n("368e"),n("480e")),r=n("4ad4"),l=n("b848"),c=n("75eb"),d=n("e707"),u=n("e4d3"),h=n("21be"),v=n("f2e7"),m=n("a293"),f=n("58df"),b=n("d9bd"),p=n("80d2"),g=Object(f["a"])(r["a"],l["a"],c["a"],d["a"],u["a"],h["a"],v["a"]);e["a"]=g.extend({name:"v-dialog",directives:{ClickOutside:m["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200}},computed:{classes:function(){var t;return t={},Object(s["a"])(t,"v-dialog ".concat(this.contentClass).trim(),!0),Object(s["a"])(t,"v-dialog--active",this.isActive),Object(s["a"])(t,"v-dialog--persistent",this.persistent),Object(s["a"])(t,"v-dialog--fullscreen",this.fullscreen),Object(s["a"])(t,"v-dialog--scrollable",this.scrollable),Object(s["a"])(t,"v-dialog--animated",this.animate),t},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(t){t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind())},fullscreen:function(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(b["e"])("full-width",this)},beforeMount:function(){var t=this;this.$nextTick((function(){t.isBooted=t.isActive,t.isActive&&t.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var t=this;this.animate=!1,this.$nextTick((function(){t.animate=!0,window.clearTimeout(t.animateTimeout),t.animateTimeout=window.setTimeout((function(){return t.animate=!1}),150)}))},closeConditional:function(t){var e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):d["a"].options.methods.hideScroll.call(this)},show:function(){var t=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){t.$refs.content.focus(),t.bind()}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(t){if(t.keyCode===p["x"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var e=this.getActivator();this.$nextTick((function(){return e&&e.focus()}))}this.$emit("keydown",t)},onFocusin:function(t){if(t&&this.retainFocus){var e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(t){return t.contains(e)}))){var n=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),a=Object(i["a"])(n).find((function(t){return!t.hasAttribute("disabled")}));a&&a.focus()}}},genContent:function(){var t=this;return this.showLazyContent((function(){return[t.$createElement(o["a"],{props:{root:!0,light:t.light,dark:t.dark}},[t.$createElement("div",{class:t.contentClasses,attrs:Object(a["a"])({role:"document",tabindex:t.isActive?0:void 0},t.getScopeIdAttrs()),on:{keydown:t.onKeydown},style:{zIndex:t.activeZIndex},ref:"content"},[t.genTransition()])])]}))},genTransition:function(){var t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent:function(){var t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style=Object(a["a"])(Object(a["a"])({},t.style),{},{maxWidth:"none"===this.maxWidth?void 0:Object(p["g"])(this.maxWidth),width:"auto"===this.width?void 0:Object(p["g"])(this.width)})),this.$createElement("div",t,this.getContentSlot())}},render:function(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},[this.genActivator(),this.genContent()])}})},"368e":function(t,e,n){},"5e06":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{persistent:"","max-width":"1200"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({attrs:{color:"primary",dark:""}},a),[t._v("Добавить контрагента")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v("Добавление контрагента")])]),n("v-container",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",sm10:"","offset-sm1":""}},[n("v-tabs",{attrs:{color:"accent","fixed-tabs":"","slider-color":"success"},model:{value:t.tabMode,callback:function(e){t.tabMode=e},expression:"tabMode"}},[n("v-tab",{key:"zao",attrs:{ripple:""}},[t._v("ЗАО/ООО/ИП")]),n("v-tab",{key:"ch",attrs:{ripple:""}},[t._v("Частное лицо")]),n("v-tab-item",{key:"zao"},[n("v-row",{attrs:{justify:"center"}},[n("v-list",{attrs:{"three-line":"",subheader:""}},[n("v-list-item",[n("v-list-item-content",[n("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[n("v-text-field",{attrs:{rules:t.nameRules,label:"Наименование контрагента"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[n("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"############",expression:"'############'"}],attrs:{rules:t.innRules,label:"ИНН"},model:{value:t.inn,callback:function(e){t.inn=e},expression:"inn"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[n("v-select",{attrs:{rules:t.managerRules,items:t.allAdmins,"item-text":"fio",label:"Менеджеры"},model:{value:t.manager,callback:function(e){t.manager=e},expression:"manager"}})],1)],1)],1),n("v-expansion-panels",{attrs:{focusable:""}},[n("CounterpartiesDopDataZao",{on:{fetchDopDataZao:t.getDopDataZao}}),n("CounterpartiesBanks",{on:{addBanks:t.onAddBanks}})],1)],1)],1)],1)],1)],1),n("v-tab-item",{key:"ch"},[n("v-row",{attrs:{justify:"center"}},[n("v-list",{attrs:{"three-line":"",subheader:""}},[n("v-list-item",[n("v-list-item-content",[n("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[n("v-text-field",{attrs:{rules:t.nameRules,label:"Наименование контрагента"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[n("v-text-field",{attrs:{rules:t.innRules,label:"ИНН"},model:{value:t.inn,callback:function(e){t.inn=e},expression:"inn"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[n("v-select",{attrs:{rules:t.managerRules,items:t.allAdmins,"item-text":"fio",label:"Менеджеры"},model:{value:t.manager,callback:function(e){t.manager=e},expression:"manager"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[n("v-select",{attrs:{items:t.allGroups,"item-text":"namegroup",label:"Группа",multiple:"","return-object":""},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}})],1)],1)],1),n("v-expansion-panels",{attrs:{focusable:""}},[n("CounterpartiesDopDataCh",{on:{fetchDopDataCh:t.getDopDataCh}}),n("CounterpartiesBanks",{on:{addBanks:t.onAddBanks}})],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Закрыть")]),n("v-btn",{attrs:{color:"blue darken-1",disabled:!t.valid,text:""},on:{click:t.addCounterparty}},[t._v("Добавить контрагента")])],1)],1)],1),n("v-col",{attrs:{cols:"12"}},[n("CounterpartiyList")],1)],1)},i=[],s=(n("b0c0"),n("d3b7"),n("5530")),o=n("2f62"),r=function(){return n.e("chunk-45750dba").then(n.bind(null,"085a"))},l=function(){return Promise.all([n.e("chunk-b03a3d1a"),n.e("chunk-698ccb3c")]).then(n.bind(null,"71d91"))},c=function(){return n.e("chunk-609fd622").then(n.bind(null,"ed29"))},d=function(){return n.e("chunk-7d9ed72c").then(n.bind(null,"6ddb"))},u={metaInfo:{title:"Контрагенты | СДО PRO"},data:function(){return{valid:!1,dialog:!1,name:null,inn:null,manager:null,group:null,dopParamsZao:null,dopParamsCh:null,banks:[],tabMode:"data",nameRules:[function(t){return!!t||"Введите название контрагента"}],innRules:[function(t){return!!t||"Введите ИНН контрагента"}],managerRules:[function(t){return!!t||"Укажите менеджера для данного контрагента"}]}},methods:{getDopDataZao:function(t){this.dopParamsZao=t},getDopDataCh:function(t){this.dopParamsCh=t},onAddBanks:function(t){this.banks=t},addCounterparty:function(){var t=Object.assign({},this.dopParamsZao),e=Object.assign({},this.dopParamsCh),n=this.banks.banks,a=Object.assign({},Object(s["a"])(Object(s["a"])(Object(s["a"])({name:this.name,inn:this.inn,manager:this.manager,group:this.group},t),e),{},{banks:n}));this.$notify({title:"СДО PRO",message:"Контрагент успешно создан",type:"success"}),this.$store.dispatch("addedCounterparty",a),this.dialog=!1}},computed:Object(o["b"])(["allAdmins","allGroups"]),mounted:function(){this.$store.dispatch("fetchAdmins"),this.$store.dispatch("fetchGroups")},components:{CounterpartiyList:d,CounterpartiesDopDataZao:r,CounterpartiesDopDataCh:l,CounterpartiesBanks:c}},h=u,v=n("2877"),m=n("6544"),f=n.n(m),b=n("8336"),p=n("b0af"),g=n("99d9"),k=n("62ad"),x=n("a523"),C=n("169a"),y=n("0393"),w=n("0e8f"),O=n("4bd4"),j=n("a722"),A=n("8860"),_=n("da13"),D=n("5d23"),$=n("0fd9"),B=n("b974"),V=n("2fa4"),S=n("71a3"),T=n("c671"),I=n("fe57"),Z=n("8654"),R=Object(v["a"])(h,a,i,!1,null,null,null);e["default"]=R.exports;f()(R,{VBtn:b["a"],VCard:p["a"],VCardActions:g["a"],VCardTitle:g["c"],VCol:k["a"],VContainer:x["a"],VDialog:C["a"],VExpansionPanels:y["a"],VFlex:w["a"],VForm:O["a"],VLayout:j["a"],VList:A["a"],VListItem:_["a"],VListItemContent:D["a"],VRow:$["a"],VSelect:B["a"],VSpacer:V["a"],VTab:S["a"],VTabItem:T["a"],VTabs:I["a"],VTextField:Z["a"]})},"99d9":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return l}));var a=n("b0af"),i=n("80d2"),s=Object(i["i"])("v-card__actions"),o=Object(i["i"])("v-card__subtitle"),r=Object(i["i"])("v-card__text"),l=Object(i["i"])("v-card__title");a["a"]}}]);
//# sourceMappingURL=chunk-995034d0.6a3ddbcf.js.map